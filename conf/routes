# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET         /                                                 controllers.Application.index

# JavaScript routes object
GET         /jsroutes.js                                      controllers.Application.jsRoutes()

# Routes used by Angular
# ~~~~

# Authentication
GET         /checkLogin                                       controllers.Application.checkLogin
POST        /login                                            controllers.Application.login
GET         /logout                                           controllers.Application.logout

# File Handling
POST        /dashboard/upload                                 controllers.Dashboard.upload
GET         /dashboard/list                                   controllers.Dashboard.list
GET         /dashboard/sip-list                               controllers.Dashboard.listSipFiles
GET         /dashboard/work                                   controllers.Dashboard.work
GET         /dashboard/:fileName/index                        controllers.Dashboard.index(fileName)
GET         /dashboard/:fileName/dataset-info                 controllers.Dashboard.datasetInfo(fileName)
GET         /dashboard/:fileName/delete-dataset               controllers.Dashboard.deleteDataset(fileName)
GET         /dashboard/:fileName/status/*path                 controllers.Dashboard.nodeStatus(fileName, path)
GET         /dashboard/:fileName/sample/:size/*path           controllers.Dashboard.sample(fileName, path, size:Int)
GET         /dashboard/:fileName/histogram/:size/*path        controllers.Dashboard.histogram(fileName, path, size:Int)
POST        /dashboard/:fileName/record/set-delimiter         controllers.Dashboard.setRecordDelimiter(fileName)
GET         /dashboard/:fileName/record/save                  controllers.Dashboard.saveRecords(fileName)
POST        /dashboard/:fileName/record/query                 controllers.Dashboard.queryRecords(fileName)
GET         /dashboard/:fileName/get-mappings                 controllers.Dashboard.getMappings(fileName)
POST        /dashboard/:fileName/set-mapping                  controllers.Dashboard.setMapping(fileName)

GET         /dashboard/skos/list                              controllers.Dashboard.listSkos
GET         /dashboard/skos/:name/:sought                     controllers.Dashboard.searchSkos(name, sought)

GET         /api/:apiKey/:fileName/tree                       controllers.APIController.indexJSON(apiKey, fileName)
GET         /api/:apiKey/:fileName/index                      controllers.APIController.indexText(apiKey, fileName, path="")
GET         /api/:apiKey/:fileName/mappings                   controllers.APIController.mappings(apiKey, fileName)
GET         /api/:apiKey/:fileName/ids/:since                 controllers.APIController.ids(apiKey, fileName, since)
GET         /api/:apiKey/:fileName/record/:id                 controllers.APIController.rawRecord(apiKey, fileName, id)
GET         /api/:apiKey/:fileName/record/:id/enriched        controllers.APIController.enrichedRecord(apiKey, fileName, id)
GET         /api/:apiKey/:fileName/index/*path                controllers.APIController.indexText(apiKey, fileName, path)
GET         /api/:apiKey/:fileName/unique/*path               controllers.APIController.uniqueText(apiKey, fileName, path)
GET         /api/:apiKey/:fileName/histogram/*path            controllers.APIController.histogramText(apiKey, fileName, path)

# todo: these should use OAuth
POST        /sip-creator/:apiKey/upload/:fileName             controllers.APIController.uploadOutput(apiKey, fileName)
POST        /sip-creator/:apiKey/sip-zip/:fileName            controllers.APIController.uploadSipZip(apiKey, fileName)
GET         /sip-creator/:apiKey/sip-zip                      controllers.APIController.listSipZips(apiKey)

GET         /oai-pmh/:accessKey                               controllers.OaiPmh.service(accessKey)

# Static
# ~~~~

# Map static resources from the /public folder to the /assets URL path
#GET     /lib/require.js         controllers.WebJarAssets.requirejs
### Enable www.WebJars.org based resources to be returned
GET         /webjars/*file                                    controllers.CdnWebJarAssets.at(file)
# Map static resources from the /public folder to the /assets URL path
GET         /assets/*file                                     controllers.Assets.at(path="/public", file)
